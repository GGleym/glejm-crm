import {Icon} from '@mtsdengi/uikit-fintech';
import {ClientTag, Contact} from '../../domain/entities';
import {Styled} from './styled';

const ChatIcon = (
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
    <path
      d="M9.25 8.5C9.66421 8.5 10 8.16421 10 7.75C10 7.33579 9.66421 7 9.25 7L6.75 7C6.33579 7 6 7.33579 6 7.75C6 8.16421 6.33579 8.5 6.75 8.5L9.25 8.5Z"
      fill="#1D2023"
    />
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M14.9361 6.67475C14.8231 5.49212 14.7666 4.9008 13.968 4.10653C13.1694 3.31226 12.5199 3.25379 11.2208 3.13683C10.3355 3.05712 9.2611 3 8 3C6.73853 3 5.66392 3.05716 4.77851 3.1369C3.48003 3.25385 2.8308 3.31232 2.03226 4.10643C1.23373 4.90053 1.17719 5.49152 1.06411 6.67349C1.02441 7.08846 1 7.53334 1 8C1 8.46667 1.02441 8.91156 1.06411 9.32655C1.1772 10.5085 1.23374 11.0995 2.03226 11.8936C2.83078 12.6876 3.48 12.7461 4.77842 12.8631C5.66384 12.9428 6.73849 13 8.00001 13C8.6265 13 9.20692 12.9859 9.74097 12.9619C11.3619 13.9258 12.4262 14.4887 13.2401 14.5C13.5128 14.5038 13.7574 14.4444 13.9854 14.3153C15 13.7408 15 12.1862 15 9.05395V7.50148L14.9907 7.49733C14.9801 7.21252 14.9612 6.93763 14.9361 6.67475ZM13.4917 7.55272L13.5 7.77722V9.05395C13.5 10.6708 13.496 11.6995 13.3894 12.4179C13.3375 12.7679 13.2761 12.9311 13.2401 12.9995C13.1791 12.9959 13.0578 12.975 12.8437 12.8977C12.324 12.7099 11.6126 12.3298 10.5076 11.6727L10.122 11.4433L9.67373 11.4634C9.16199 11.4864 8.60399 11.5 8.00001 11.5C6.78387 11.5 5.75413 11.4449 4.91299 11.3691C4.21488 11.3062 3.89877 11.2712 3.65254 11.1966C3.48831 11.1469 3.3348 11.0734 3.08997 10.8299C2.82823 10.5697 2.75987 10.4218 2.71792 10.2925C2.65106 10.0865 2.61855 9.82391 2.55729 9.18368C2.5217 8.81162 2.5 8.4146 2.5 8C2.5 7.58541 2.52169 7.1884 2.55729 6.81634C2.61854 6.1761 2.65105 5.91352 2.71791 5.70745C2.75987 5.57815 2.82822 5.43033 3.08997 5.17003C3.3348 4.92656 3.48831 4.8531 3.65256 4.80337C3.8988 4.72882 4.21493 4.69373 4.91307 4.63085C5.75419 4.5551 6.7839 4.5 8 4.5C9.21574 4.5 10.2453 4.55506 11.0863 4.63079C11.7847 4.69367 12.1011 4.72877 12.3475 4.80336C12.5119 4.85312 12.6654 4.92661 12.9102 5.17007C13.1719 5.43036 13.2403 5.57823 13.2823 5.70769C13.3492 5.91395 13.3817 6.17679 13.4429 6.81738C13.4654 7.053 13.4823 7.29874 13.4917 7.55272Z"
      fill="#1D2023"
    />
  </svg>
);

const TelephonyIcon = (
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
    <path
      d="M14.9476 10.8483C14.8345 12.2073 14.7779 12.8868 13.8754 13.7926C12.9728 14.6983 12.264 14.7598 10.8465 14.8829C10.0397 14.9529 9.09322 15.0002 8.00869 15.0002C7.18034 15.0001 6.50885 14.3284 6.50885 13.5C6.50885 12.6716 7.18042 12 8.00885 12C8.82637 12 9.49114 12.654 9.5085 13.4674C9.94379 13.4478 10.3466 13.4206 10.7168 13.3885C11.4754 13.3226 11.8299 13.2848 12.1123 13.1978C12.3131 13.1359 12.5095 13.0381 12.8128 12.7338C13.1239 12.4216 13.2181 12.2281 13.2754 12.0443C13.2809 12.0265 13.2862 12.0085 13.2914 11.9901C13.1563 11.9956 13.0211 12.0007 12.8859 12.0004C12.2806 11.9977 11.978 11.9964 11.5386 11.5827C11.0993 11.169 11.0757 10.8044 11.0285 10.0751C11.0163 9.88634 11.0088 9.69263 11.0088 9.50049C11.0088 9.30834 11.0163 9.11464 11.0285 8.9259C11.0757 8.19661 11.0993 7.83197 11.5386 7.41829C11.978 7.00461 12.2806 7.00325 12.8859 7.00054L13.4178 7.00073C12.9478 4.44051 10.7048 2.50049 8.00873 2.50049C5.31265 2.50049 3.06968 4.44051 2.59966 7.00073L3.10884 7.00049L3.13132 7.00054C3.7369 7.00326 4.03971 7.00461 4.47906 7.41831C4.91841 7.83201 4.94201 8.19675 4.9892 8.92625C5.00141 9.11487 5.00881 9.30846 5.00881 9.50049C5.00881 9.69252 5.00141 9.88611 4.9892 10.0747C4.94201 10.8042 4.91841 11.169 4.47906 11.5827C4.03971 11.9964 3.7369 11.9977 3.13132 12.0004C3.06531 12.0006 2.99931 11.9997 2.93333 11.9975C2.25057 11.9747 1.90919 11.9633 1.48159 11.5373C1.05399 11.1112 1.04076 10.7527 1.01428 10.0357C0.985591 9.25878 1.00899 8.47815 1.00902 7.7008L1.01564 7.69396C1.17592 3.97021 4.24552 1.00049 8.00873 1.00049C11.772 1.00049 14.8417 3.97034 15.0018 7.6942C15.0018 7.6942 14.9903 10.3363 14.9476 10.8483Z"
      fill="#1D2023"
    />
  </svg>
);

const EmailIcon = (
  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
    <path
      fillRule="evenodd"
      clipRule="evenodd"
      d="M11.2209 12.8632C12.5199 12.7462 13.1694 12.6877 13.968 11.8934C14.7666 11.0992 14.8231 10.5079 14.936 9.32532C14.9757 8.91069 15 8.46621 15 8C15 7.53382 14.9757 7.08936 14.9361 6.67475C14.8231 5.49212 14.7666 4.9008 13.968 4.10653C13.1694 3.31226 12.5199 3.25378 11.2208 3.13683C10.3355 3.05712 9.2611 3 8 3C6.73853 3 5.66392 3.05716 4.77851 3.1369C3.48003 3.25385 2.8308 3.31232 2.03226 4.10643C1.23373 4.90053 1.17719 5.49152 1.06411 6.67349C1.02441 7.08846 1 7.53334 1 8C1 8.46667 1.02441 8.91156 1.06411 9.32655C1.1772 10.5085 1.23374 11.0995 2.03226 11.8936C2.83078 12.6876 3.48 12.7461 4.77842 12.8631C5.66384 12.9428 6.73849 13 8.00001 13C9.26117 13 10.3356 12.9429 11.2209 12.8632ZM4.91307 4.63085C5.75419 4.5551 6.7839 4.5 8 4.5C9.21574 4.5 10.2453 4.55506 11.0863 4.63079C11.7847 4.69367 12.1011 4.72877 12.3475 4.80336C12.5031 4.85045 12.649 4.91881 12.8717 5.13243C12.7366 5.23281 12.5765 5.34604 12.3749 5.48841C12.0586 5.71178 11.718 5.9358 11.3619 6.14619C11.0453 6.3333 10.7073 6.51501 10.3646 6.68734C9.0507 7.34807 8.70538 7.49857 8.00003 7.49857C7.29468 7.49857 6.94937 7.34807 5.63544 6.68734C5.29276 6.51501 4.95478 6.3333 4.63813 6.14619C4.28208 5.9358 3.9415 5.71178 3.62518 5.48841C3.4236 5.34606 3.26353 5.23284 3.12841 5.13247C3.35122 4.91879 3.49708 4.85045 3.65256 4.80337C3.8988 4.72882 4.21493 4.69373 4.91307 4.63085ZM2.57974 6.58627C2.57265 6.65711 2.56521 6.73357 2.55729 6.81634C2.52169 7.1884 2.5 7.58541 2.5 8C2.5 8.4146 2.5217 8.81162 2.55729 9.18368C2.61855 9.82391 2.65106 10.0865 2.71792 10.2925C2.75987 10.4218 2.82823 10.5697 3.08997 10.8299C3.3348 11.0734 3.48831 11.1469 3.65254 11.1966C3.89877 11.2712 4.21488 11.3062 4.91299 11.3691C5.75413 11.4449 6.78387 11.5 8.00001 11.5C9.2158 11.5 10.2453 11.4449 11.0864 11.3692C11.7848 11.3063 12.1011 11.2712 12.3475 11.1966C12.5119 11.1469 12.6654 11.0734 12.9102 10.8299C13.1719 10.5696 13.2403 10.4218 13.2823 10.2923C13.3492 10.0861 13.3817 9.82324 13.4428 9.18269C13.4784 8.81091 13.5 8.41422 13.5 8C13.5 7.5858 13.4784 7.18913 13.4429 6.81738C13.4349 6.73421 13.4274 6.6574 13.4203 6.58627C13.3623 6.62746 13.3022 6.66987 13.2401 6.7137C12.896 6.9567 12.5212 7.20347 12.125 7.43758C11.7733 7.64544 11.4046 7.84334 11.0385 8.02744C9.75106 8.67486 9.10733 8.99857 8.00003 8.99857C6.89274 8.99857 6.24901 8.67486 4.96156 8.02744C4.59546 7.84334 4.22681 7.64544 3.87503 7.43758C3.47885 7.20347 3.10406 6.95671 2.75994 6.7137C2.69788 6.66988 2.63781 6.62746 2.57974 6.58627Z"
      fill="#1D2023"
    />
  </svg>
);

const CONTACT_ICONS = {
  [Contact.email]: EmailIcon,
  [Contact.chat]: ChatIcon,
  [Contact.tg]: <Icon iconPath="granat/telegram/size-24-style-fill" />,
  [Contact.telephony]: TelephonyIcon,
} as const;

export type CardProps = {
  /** ФИО клиента */
  fullName: string;
  /** Контакты клиента */
  contacts: Contact[];
  /** Теги клиента (зарплатный, вип и др) */
  tags: ClientTag[];
  /** Перейти к клиенту */
  onToClient: () => void;
  /** Уникальный тег (доступно премиальным клиентам) */
  customTag?: string;
};

export const Card = ({fullName, contacts, tags, onToClient}: CardProps) => (
  <Styled.Wrapper>
    <Styled.Link href="#" onClick={onToClient}>
      {fullName}
    </Styled.Link>
    <Styled.Contact>
      {contacts.map((contactType) => {
        const contactIcon = CONTACT_ICONS[contactType];

        return <Styled.Icon>{contactIcon}</Styled.Icon>;
      })}
    </Styled.Contact>
  </Styled.Wrapper>
);
